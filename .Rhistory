getwd()
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip",
destfile = "data.zip")
unzip(zipfile = "data.zip", exdir = getwd())
a <- read.delim("UCI HAR Dataset/test/Interial Signals(body_acc_x_test.txt")
a <- read.delim("UCI HAR Dataset/test/Interial Signals/body_acc_x_test.txt")
getwd()
a <- read.delim("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt")
View(a)
a <- read.delim("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt",sep=" ")
a <- read.delim("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt",sep="")
View(a)
a <- read.delim("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt",sep="",header=F)
a <- read.delim("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt",sep="",header=F)
View(a)
a1<-read.delim("UCI HAR Dataset/train/subject_train.txt",sep="",header=F)
View(a1)
View(a1)
read.table("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt")
read.table("UCI HAR Dataset/train/subject_train.txt")
tr1<-read.table("UCI HAR Dataset/train/subject_train.txt")
tr2<-read.table("UCI HAR Dataset/train/total_acc_x_train.txt")
tr1<-read.table("UCI HAR Dataset/train/subject_train.txt")
tr2<-read.table("UCI HAR Dataset/train/Inertial Signals/total_acc_x_train.txt")
tr3<-read.table("UCI HAR Dataset/train/Inertial Signals/body_acc_x_train.txt")
tr4<-read.table("UCI HAR Dataset/train/Inertial Signals/body_gyro_x_train.txt")
te1<-read.table("UCI HAR Dataset/test/subject_testn.txt")
te1<-read.table("UCI HAR Dataset/test/subject_testn.txt")
te1<-read.table("UCI HAR Dataset/test/subject_test.txt")
te2<-read.table("UCI HAR Dataset/test/Inertial Signals/total_acc_x_test.txt")
te3<- read.table("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt")
te4<-read.table("UCI HAR Dataset/test/Inertial Signals/body_gyro_x_test.txt")
environmentName()
ls()
# Training data
tr1<-read.table("UCI HAR Dataset/train/subject_train.txt")
tr2<-read.table("UCI HAR Dataset/train/Inertial Signals/total_acc_x_train.txt")
tr3<-read.table("UCI HAR Dataset/train/Inertial Signals/body_acc_x_train.txt")
tr4<-read.table("UCI HAR Dataset/train/Inertial Signals/body_gyro_x_train.txt")
# Test data
te1<-read.table("UCI HAR Dataset/test/subject_test.txt")
te2<-read.table("UCI HAR Dataset/test/Inertial Signals/total_acc_x_test.txt")
te3<- read.table("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt")
te4<-read.table("UCI HAR Dataset/test/Inertial Signals/body_gyro_x_test.txt")
ls()
cbind(te1,te2,te3,te4)
te<-cbind(te1,te2,te3,te4)
tr<-cbind(tr1,tr2,tr3,tr4)
data<-rbind(te,tr)
data
str(data)
features<-read.table("UCI HAR Dataset/features.txt")
View(features)
128+385
tr2<-read.table("UCI HAR Dataset/train/X_train.txt")
tr3<-read.table("UCI HAR Dataset/train/y_train.txt")
tr1<-read.table("UCI HAR Dataset/train/subject_train.txt")
#tr2<-read.table("UCI HAR Dataset/train/Inertial Signals/total_acc_x_train.txt")
#tr3<-read.table("UCI HAR Dataset/train/Inertial Signals/body_acc_x_train.txt")
#tr4<-read.table("UCI HAR Dataset/train/Inertial Signals/body_gyro_x_train.txt")
tr2<-read.table("UCI HAR Dataset/train/X_train.txt")
tr3<-read.table("UCI HAR Dataset/train/y_train.txt")
features<-read.table("UCI HAR Dataset/features.txt")
View(tr3)
te1<-read.table("UCI HAR Dataset/test/subject_test.txt")
#te2<-read.table("UCI HAR Dataset/test/Inertial Signals/total_acc_x_test.txt")
#te3<- read.table("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt")
#te4<-read.table("UCI HAR Dataset/test/Inertial Signals/body_gyro_x_test.txt")
te2<-read.table("UCI HAR Dataset/train/X_test.txt")
te3<-read.table("UCI HAR Dataset/train/y_test.txt")
te1<-read.table("UCI HAR Dataset/test/subject_test.txt")
#te2<-read.table("UCI HAR Dataset/test/Inertial Signals/total_acc_x_test.txt")
#te3<- read.table("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt")
#te4<-read.table("UCI HAR Dataset/test/Inertial Signals/body_gyro_x_test.txt")
te2<-read.table("UCI HAR Dataset/test/X_test.txt")
te3<-read.table("UCI HAR Dataset/test/y_test.txt")
x_data <- rbind(tr2,te2)
y_data <- rbind(tr3,te3)
subject_data <- rbind(tr1,te1)
features
View(features)
features<-read.table("UCI HAR Dataset/features.txt")
names(features)
names(features[1])
View(features)
names(features[2])
t(features[2])
as.data.frame(t(features[2]))
a<-as.data.frame(t(features[2]))
View(a)
a[,1]
a[,1]
a[1,]
names(a)<-a[1,]
View(a)
names(a)
names(a)<-a[1,]
names(a)
a[1,]
a<-a[1,]
a
View(a)
a<-(t(features[2])
a
a<-t(features[2])
a
View(a)
a[1,]
x_data
names(x_data)
names(x_data)<-a[1,]
names(x_data)
data <- cbind(subject_data, y_data, x_data)
View(data)
str(data)
names(subject_data)<-"subjects"
names(subject_data)
y_data
str(data)
# You should create one R script called run_analysis.R that does the following.
#1. Merges the training and the test sets to create one data set.
# Training data
tr1<-read.table("UCI HAR Dataset/train/subject_train.txt")
#tr2<-read.table("UCI HAR Dataset/train/Inertial Signals/total_acc_x_train.txt")
#tr3<-read.table("UCI HAR Dataset/train/Inertial Signals/body_acc_x_train.txt")
#tr4<-read.table("UCI HAR Dataset/train/Inertial Signals/body_gyro_x_train.txt")
tr2<-read.table("UCI HAR Dataset/train/X_train.txt")
tr3<-read.table("UCI HAR Dataset/train/y_train.txt")
# Test data
te1<-read.table("UCI HAR Dataset/test/subject_test.txt")
#te2<-read.table("UCI HAR Dataset/test/Inertial Signals/total_acc_x_test.txt")
#te3<- read.table("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt")
#te4<-read.table("UCI HAR Dataset/test/Inertial Signals/body_gyro_x_test.txt")
te2<-read.table("UCI HAR Dataset/test/X_test.txt")
te3<-read.table("UCI HAR Dataset/test/y_test.txt")
# Merge
x_data <- rbind(tr2,te2)
y_data <- rbind(tr3,te3)
subject_data <- rbind(tr1,te1)
features<-read.table("UCI HAR Dataset/features.txt")
a<-t(features[2])
a[1,]
names(x_data)<-a[1,]
names(subject_data)<-"subjects"
data <- cbind(subject_data, y_data, x_data)
#2. Extracts only the measurements on the mean and standard deviation for each measurement.
str(data)
table(data$V1)
library(dplyr)
data %>% mutate(activity=case_when(activity==1~WALKING
activity==2 ~ WALKING_UPSTAIRS
activity==3 ~ WALKING_DOWNSTAIRS
activity==4 ~ SITTING
activity==5 ~ STANDING
activity==6 ~ LAYING))
data %>% mutate(activity=case_when(activity==1 ~ "WALKING"
activity==2 ~ "WALKING_UPSTAIRS"
activity==3 ~ "WALKING_DOWNSTAIRS"
activity==4 ~ "SITTING"
activity==5 ~ "STANDING"
activity==6 ~ "LAYING"))
#1. Merges the training and the test sets to create one data set.
# Training data
tr1<-read.table("UCI HAR Dataset/train/subject_train.txt")
#tr2<-read.table("UCI HAR Dataset/train/Inertial Signals/total_acc_x_train.txt")
#tr3<-read.table("UCI HAR Dataset/train/Inertial Signals/body_acc_x_train.txt")
#tr4<-read.table("UCI HAR Dataset/train/Inertial Signals/body_gyro_x_train.txt")
tr2<-read.table("UCI HAR Dataset/train/X_train.txt")
tr3<-read.table("UCI HAR Dataset/train/y_train.txt")
# Test data
te1<-read.table("UCI HAR Dataset/test/subject_test.txt")
#te2<-read.table("UCI HAR Dataset/test/Inertial Signals/total_acc_x_test.txt")
#te3<- read.table("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt")
#te4<-read.table("UCI HAR Dataset/test/Inertial Signals/body_gyro_x_test.txt")
te2<-read.table("UCI HAR Dataset/test/X_test.txt")
te3<-read.table("UCI HAR Dataset/test/y_test.txt")
# Merge
x_data <- rbind(tr2,te2)
y_data <- rbind(tr3,te3)
subject_data <- rbind(tr1,te1)
features<-read.table("UCI HAR Dataset/features.txt")
a<-t(features[2])
a[1,]
names(x_data)<-a[1,]
names(subject_data)<-"subjects"
names(y_data)<-"activity"
data <- cbind(subject_data, y_data, x_data)
data %>% mutate(activity=case_when(activity==1 ~ "WALKING"
activity==2 ~ "WALKING_UPSTAIRS"
activity==3 ~ "WALKING_DOWNSTAIRS"
activity==4 ~ "SITTING"
activity==5 ~ "STANDING"
activity==6 ~ "LAYING"))
data %>% mutate(activity=case_when(activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
names(data)
class(data$activity)
data$activity<-as.numeric(data$activity)
data %>% mutate(activity=case_when(activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
data$activity<-as.character(data$activity)
data %>% mutate(activity=case_when(activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
as.character(data$activity)
data %>% mutate(activity=case_when(activity=="1" ~ "WALKING",
activity=="2" ~ "WALKING_UPSTAIRS",
activity=="3" ~ "WALKING_DOWNSTAIRS",
activity=="4" ~ "SITTING",
activity=="5" ~ "STANDING",
activity=="6" ~ "LAYING"))
names(data)
str(data)
data$activity<-as.factor(data$activity)
data %>% mutate(activity=case_when(activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
data$activity
data %>% mutate(activity=case_when(activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
data %>% mutate(activity2=case_when(activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
# You should create one R script called run_analysis.R that does the following.
#1. Merges the training and the test sets to create one data set.
# Training data
tr1<-read.table("UCI HAR Dataset/train/subject_train.txt")
#tr2<-read.table("UCI HAR Dataset/train/Inertial Signals/total_acc_x_train.txt")
#tr3<-read.table("UCI HAR Dataset/train/Inertial Signals/body_acc_x_train.txt")
#tr4<-read.table("UCI HAR Dataset/train/Inertial Signals/body_gyro_x_train.txt")
tr2<-read.table("UCI HAR Dataset/train/X_train.txt")
tr3<-read.table("UCI HAR Dataset/train/y_train.txt")
# Test data
te1<-read.table("UCI HAR Dataset/test/subject_test.txt")
#te2<-read.table("UCI HAR Dataset/test/Inertial Signals/total_acc_x_test.txt")
#te3<- read.table("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt")
#te4<-read.table("UCI HAR Dataset/test/Inertial Signals/body_gyro_x_test.txt")
te2<-read.table("UCI HAR Dataset/test/X_test.txt")
te3<-read.table("UCI HAR Dataset/test/y_test.txt")
# Merge
x_data <- rbind(tr2,te2)
y_data <- rbind(tr3,te3)
subject_data <- rbind(tr1,te1)
features<-read.table("UCI HAR Dataset/features.txt")
a<-t(features[2])
a[1,]
names(x_data)<-a[1,]
names(subject_data)<-"subjects"
names(y_data)<-"activity"
data <- cbind(subject_data, y_data, x_data)
str(data)
?case_when
table(data$activity,useNA = "ifany")
class(data)
data %>% mutate(activity=case_when(activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
class(data$activity)
table(data$activity,useNA = "ifany")
data$activity<-as.factor(data$activity)
table(data$activity,useNA = "ifany")
class(data$activity)
data %>% mutate(activity=case_when(activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
data %>% select(activity) %>% mutate(activity=case_when(activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
a<-data %>% select(activity) %>% mutate(activity=case_when(activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
data %>% select(-c(activity))
names(data)
duplicated(names(data))
a <- grep("std\\(\\)|mean\\(\\)|activity|subject", names(data), value=TRUE)
a
## Packages
library(dplyr)
## Download the data
getwd()
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip",
destfile = "data.zip")
unzip(zipfile = "data.zip", exdir = getwd())
# You should create one R script called run_analysis.R that does the following.
#1. Merges the training and the test sets to create one data set.
# Training data
tr1<-read.table("UCI HAR Dataset/train/subject_train.txt")
#tr2<-read.table("UCI HAR Dataset/train/Inertial Signals/total_acc_x_train.txt")
#tr3<-read.table("UCI HAR Dataset/train/Inertial Signals/body_acc_x_train.txt")
#tr4<-read.table("UCI HAR Dataset/train/Inertial Signals/body_gyro_x_train.txt")
tr2<-read.table("UCI HAR Dataset/train/X_train.txt")
tr3<-read.table("UCI HAR Dataset/train/y_train.txt")
# Test data
te1<-read.table("UCI HAR Dataset/test/subject_test.txt")
#te2<-read.table("UCI HAR Dataset/test/Inertial Signals/total_acc_x_test.txt")
#te3<- read.table("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt")
#te4<-read.table("UCI HAR Dataset/test/Inertial Signals/body_gyro_x_test.txt")
te2<-read.table("UCI HAR Dataset/test/X_test.txt")
te3<-read.table("UCI HAR Dataset/test/y_test.txt")
# Merge
x_data <- rbind(tr2,te2)
y_data <- rbind(tr3,te3)
subject_data <- rbind(tr1,te1)
features<-read.table("UCI HAR Dataset/features.txt")
a<-t(features[2])
a[1,]
names(x_data)<-a[1,]
names(subject_data)<-"subjects"
names(y_data)<-"activity"
data <- cbind(subject_data, y_data, x_data)
#2. Extracts only the measurements on the mean and standard deviation for each measurement.
a <- grep("std\\(\\)|mean\\(\\)|activity|subject", names(data), value=TRUE)
data %>% select(a)
data<-data %>% select(a)
# Labels for activity variable
table(data$activity,useNA = "ifany")
data %>% select(activity) %>% mutate(activity=case_when(activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
data<-data %>% select(activity) %>% mutate(activity=case_when(
activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
str(data)
tr1<-read.table("UCI HAR Dataset/train/subject_train.txt")
#tr2<-read.table("UCI HAR Dataset/train/Inertial Signals/total_acc_x_train.txt")
#tr3<-read.table("UCI HAR Dataset/train/Inertial Signals/body_acc_x_train.txt")
#tr4<-read.table("UCI HAR Dataset/train/Inertial Signals/body_gyro_x_train.txt")
tr2<-read.table("UCI HAR Dataset/train/X_train.txt")
tr3<-read.table("UCI HAR Dataset/train/y_train.txt")
# Test data
te1<-read.table("UCI HAR Dataset/test/subject_test.txt")
#te2<-read.table("UCI HAR Dataset/test/Inertial Signals/total_acc_x_test.txt")
#te3<- read.table("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt")
#te4<-read.table("UCI HAR Dataset/test/Inertial Signals/body_gyro_x_test.txt")
te2<-read.table("UCI HAR Dataset/test/X_test.txt")
te3<-read.table("UCI HAR Dataset/test/y_test.txt")
# Merge
x_data <- rbind(tr2,te2)
y_data <- rbind(tr3,te3)
subject_data <- rbind(tr1,te1)
features<-read.table("UCI HAR Dataset/features.txt")
a<-t(features[2])
a[1,]
names(x_data)<-a[1,]
names(subject_data)<-"subjects"
names(y_data)<-"activity"
data <- cbind(subject_data, y_data, x_data)
#2. Extracts only the measurements on the mean and standard deviation for each measurement.
a <- grep("std\\(\\)|mean\\(\\)|activity|subject", names(data), value=TRUE)
data<-data %>% select(a)
# Labels for activity variable
table(data$activity,useNA = "ifany")
data<-data %>% mutate(activity=case_when(
activity==1 ~ "WALKING",
activity==2 ~ "WALKING_UPSTAIRS",
activity==3 ~ "WALKING_DOWNSTAIRS",
activity==4 ~ "SITTING",
activity==5 ~ "STANDING",
activity==6 ~ "LAYING"))
str(data)
write.table(data, file = "tidy_data.txt", row.names = FALSE)
data %>% group_by(subjects,activity) %>% summarise_all(mean())
data %>% group_by(subjects,activity) %>% summarise_all(list(mean()))
data %>% group_by(subjects,activity) %>% summarise_all(mean)
data2<-data %>% group_by(subjects,activity) %>% summarise_all(mean)
View(data2)
write.table(data2, file = "tidy_data_by_subject.txt", row.names = FALSE)
